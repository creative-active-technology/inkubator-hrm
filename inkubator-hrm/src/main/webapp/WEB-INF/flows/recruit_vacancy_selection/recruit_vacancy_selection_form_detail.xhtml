<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title>IGNORED</title>
</h:head>
<h:body>
	<ui:composition template="/templates/master_layout_full.xhtml">
		<ui:define name="windowTitle">
                Home
            </ui:define>
		<ui:define name="center">
			<p:growl id="growlId" showDetail="true" showSummary="true"
				globalOnly="true" life="5000" />

			<div id="box_bg" style="margin: 10px">
				<!--<p:panel style="margin: 10px">-->
				<h:panelGrid style="margin-bottom: 5px" columns="2">
					<p:graphicImage library="images" name="skema_penggantian.png"
						height="36" width="36" />
					<h:panelGroup layout="block">
						<h:panelGrid>
							<p:outputLabel value="#{appmsg['recruitVacancySelectionView.recruit_vacancy_selection']}"
								styleClass="header_big" />
							<p:outputLabel
								value="#{appmsg['recruitVacancySelectionView.recruit_vacancy_selection_header']}"
								styleClass="header_small_no_bold" />
						</h:panelGrid>
					</h:panelGroup>
				</h:panelGrid>
				<p:separator />

				<p:panelGrid
					style="width: 100%;margin-bottom: 20px;margin-top: 20px"
					styleClass="grid_border3">
					<p:row>
						<p:column style="width: 20%;background-color: #e1f0f0!important">
							<p:outputLabel value="#{appmsg['recruitSelectionView.code']}" styleClass="label_hrm" />
						</p:column>
						<p:column style="width: 80%">
							<p:outputLabel id="code"
								value="#{recruitVacancySelectionModel.code}"
								styleClass="label_hrm" />

						</p:column>
					</p:row>

					<p:row>
						<p:column style="width: 20%;background-color: #e1f0f0!important">
							<p:outputLabel value="#{appmsg['global.date']}" styleClass="label_hrm" />
						</p:column>
						<p:column style="width: 80%">
							<p:outputLabel id="recruitVacancySelectionDate"
								value="#{recruitVacancySelectionModel.recruitVacancySelectionDate}"
								styleClass="label_hrm">
								<f:convertDateTime pattern="dd-MMMM-yyyy" />
							</p:outputLabel>
						</p:column>
					</p:row>

					<p:row>
						<p:column style="width: 20%;background-color: #e1f0f0!important">
							<p:outputLabel value="#{appmsg['recruitSelectionVacancy.rekrutment']}" styleClass="label_hrm" />
						</p:column>
						<p:column style="width: 80%">
							<p:outputLabel id="recruit"
								value="#{recruitVacancySelectionModel.recruitHireApplyName}"
								styleClass="label_hrm" />

						</p:column>
					</p:row>

					<p:row>
						<p:column style="width: 20%;background-color: #e1f0f0!important">
							<p:outputLabel value="#{appmsg['companyRelation.jabatan']}" styleClass="label_hrm" />
						</p:column>
						<p:column style="width: 80%">
							<p:outputLabel id="jobTitleName"
								value="#{recruitVacancySelectionModel.jobTitleName}"
								styleClass="label_hrm" />
						</p:column>
					</p:row>

					<p:row>
						<p:column style="width: 20%;background-color: #e1f0f0!important">
							<p:outputLabel value="#{appmsg['employee.staff']}" styleClass="label_hrm" />
						</p:column>
						<p:column style="width: 80%">
							<p:outputLabel id="staff"
								value="#{recruitVacancySelectionModel.staffName}"
								styleClass="label_hrm" />
						</p:column>
					</p:row>

					<p:row>
						<p:column style="width: 20%;background-color: #e1f0f0!important">
							<p:outputLabel value="#{appmsg['systemLetterRef.effective_date']}" styleClass="label_hrm" />
						</p:column>
						<p:column style="width: 80%">
							<p:outputLabel id="effectiveDate"
								value="#{recruitVacancySelectionModel.effectiveDate}"
								styleClass="label_hrm">
								<f:convertDateTime pattern="dd-MMMM-yyyy" />
							</p:outputLabel>
						</p:column>
					</p:row>

					<p:row>
						<p:column style="width: 20%;background-color: #e1f0f0!important">
							<p:outputLabel value="#{appmsg['recruitVacancySelection.extra_fee']}" for="extraFee"
								styleClass="label_hrm" />
						</p:column>
						<p:column style="width: 80%">
							<p:outputLabel id="extraFee"
								value="#{recruitVacancySelectionModel.extraBudget}"
								styleClass="label_hrm">
							</p:outputLabel>
						</p:column>
					</p:row>

				</p:panelGrid>
				<h:form id="formId">
					<h:panelGrid>
						<p:dataTable id="tableVacancySelectionSeries" var="data"
							value="#{recruitVacancySelectionModel.listVacancySelectionDetail}"
							lazy="false" paginator="false"
							style="margin-top: 10px;margin-bottom: 10px" rowIndexVar="no">
							<f:facet name="header">
								<h:outputText value="#{appmsg['recruitVacancySelection.list_of_selection_type']}" />
							</f:facet>
							<p:column style="text-align: center;width: 3%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['global.number']}" />
								</f:facet>
								<h:outputLabel value="#{no+1}." />
							</p:column>
							<p:column style="width: 12%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['selection_type.selection_type']}" />
								</f:facet>
								<h:outputLabel value="#{data.recruitSelectionTypeName}" />
							</p:column>
							<p:column style="width: 9%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['global.start_date']}" />
								</f:facet>
								<p:calendar id="startDate" size="13" pattern="dd MMMM yyyy"
									label="#{appmsg['global.start_date']}"
									value="#{data.startDate}" required="false" navigator="true">
								</p:calendar>

								<p:message for="startDate" />
							</p:column>
							<p:column style="width: 9%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['global.end_date']}" />
								</f:facet>
								<p:calendar id="endDate" size="13" pattern="dd MMMM yyyy"
									label="#{appmsg['global.end_date']}" value="#{data.endDate}"
									required="false" navigator="true">
								</p:calendar>
							</p:column>
							<p:column style="width: 7%; text-align: center;">
								<f:facet name="header">
									<h:outputText value="#{appmsg['global.time']}" />
								</f:facet>
								<pe:timePicker id="startTime" value="#{data.time}"
									mode="spinner" styleClass="isitext_hrm"
									requiredMessage="#{appmsg['workinghour.error_empty_breaktime_end']}" />
							</p:column>
							<p:column style="width: 12%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['global.place']}" />
								</f:facet>
								<p:inputText id="place" title="#{appmsg['global.place']}" value="#{data.place}"
									required="false" requiredMessage="Place" maxlength="45"
									styleClass="isitext_hrm" style="width:120px;" />
								<p:message for="place" />
							</p:column>
							<p:column style="width: 12%; text-align: center;">
								<f:facet name="header">
									<h:outputText value="#{appmsg['recruitVacancySelection.selectors']}" />
								</f:facet>
								 <p:commandButton value="#{appmsg['global.search']}" ajax="true"
									styleClass="label_button" style="margin-right: 5px"
									label="#{appmsg['global.search']}" icon="ui-icon-disk"
									immediate="false" update=":formDetail, tooltipEmployeeListId"
									onclick="PF('statusDialog').show()" action="initEmployeeSelectors"
									oncomplete="PF('penyeleksiDialog').show()"
									id="employeeSearchButtonId" title="#{appmsg['global.search']}">
									<f:setPropertyActionListener value="#{data}"
										target="#{recruitVacancySelectionModel.selectedVacSelectionDetailModel}" />
								</p:commandButton>
								<pe:tooltip for="employeeSearchButtonId"
									id="tooltipEmployeeListId" showEffect="slideToggle"
									 hideEffect="slideToggle"
									showDelay="1" myPosition="top center"
									atPosition="bottom center">
									<p:dataList value="#{data.listEmpData}" var="empData"
										type="ordered" style="width: 200px;">
										<f:facet name="header">
									            #{appmsg['recruitVacancySelection.list_selectors']}
									        </f:facet>
									        #{empData.bioData.firstName} #{empData.bioData.lastName}
									    </p:dataList>
								</pe:tooltip>
								<br />
								<h:outputLabel id="updateName"
									value="#{appmsg['recruitVacancySelection.info_selectors']}" />
							</p:column>
							<p:column style="width: 12%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['recruitVacancySelection.basic_cost']}" />
								</f:facet>
								<!-- <pe:inputNumber id="basicCost" title="Place"
									value="#{data.basicCost}" required="false"
									requiredMessage="Place" maxlength="15" styleClass="isitext_hrm"
									style="width:10px;" /> -->
									
								<p:inputText title="#{appmsg['businesstravel.earned_per_quatity']}" value="#{data.basicCost}" 
                                                 id="basicCost" style="text-align: right;width: 130px" styleClass="isitext_hrm" >
                                        <!-- <p:ajax update="tableBusinessTravelComponentId,:formBusinessTravelComponentFormId:totalAmountId" process="@this" listener="#{businessTravelFormController.doAdjustPayByAmount(flowRequestContext)}"/> -->
                                        <f:validateDoubleRange/>
                                        <f:convertNumber minFractionDigits="2"/>
                                    </p:inputText>
								<p:message for="basicCost" />
							</p:column>
							<p:column style="width: 12%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['recruitVacancySelection.individual_cost']}" />
								</f:facet>
								<!-- <pe:inputNumber id="individualCost" title="#{appmsg['recruitVacancySelection.individual_cost']}"
									value="#{data.individualCost}" required="false"
									requiredMessage="Place" maxlength="5" styleClass="isitext_hrm"
									style="width:10px;" /> -->
								<p:inputText title="#{appmsg['businesstravel.earned_per_quatity']}" value="#{data.individualCost}" 
                                                 id="individualCost" style="text-align: right;width: 130px" styleClass="isitext_hrm" >
                                        <!-- <p:ajax update="tableBusinessTravelComponentId,:formBusinessTravelComponentFormId:totalAmountId" process="@this" listener="#{businessTravelFormController.doAdjustPayByAmount(flowRequestContext)}"/> -->
                                        <f:validateDoubleRange/>
                                        <f:convertNumber minFractionDigits="2"/>
                                    </p:inputText>
								<p:message for="individualCost" />
							</p:column>

						</p:dataTable>
						<p:focus context="formId" />
					</h:panelGrid>
					<p:separator style="margin-top: 10px;margin-bottom: 10px" />
					<div style="margin-bottom: 5px">
						<p:commandButton value="#{appmsg['global.save']}" ajax="true"
							partialSubmit="true" action="save" styleClass="isitext_hrm"
							style="margin-right: 5px" label="#{appmsg['global.save']}"
							icon="ui-icon-search" title="#{appmsg['global.save']}" />
						
						<p:commandButton value="#{appmsg['global.reset']}"
							title="#{appmsg['global.reset']}" process="@this" update="formId"
							action="#{systemLetterReferenceFormController.doReset()}"
							icon="ui-icon-refresh" styleClass="isitext_hrm"
							style="margin-right: 5px">
							<p:resetInput target="formId" />
						</p:commandButton>
						<p:commandButton value="#{appmsg['global.back']}"
							icon="ui-icon-contact" title="#{appmsg['global.back']}"
							immediate="true"
							action="back"
							styleClass="label_button" />
					</div>

				</h:form>
			</div>
			<p:dialog modal="true" widgetVar="statusDialog"
				header="#{appmsg['global.waiting']}" draggable="false"
				closable="false" resizable="false">
				<div align="center">
					<h:graphicImage library="images" name="waiting.gif" />
				</div>
			</p:dialog>
			<p:dialog id="penyeleksiDialogId" widgetVar="penyeleksiDialog"
				header="#{appmsg['savingType.savingType_detail']}" width="700"
				height="400" modal="true" resizable="false" hideEffect="puff"
				styleClass="header_small_no_bold" showEffect="clip"
				onShow="PF('statusDialog').hide()" appendTo="@(body)" dynamic="true">

				<h:form id="formDetail">
					<p:panelGrid id="detailPanel" style="width:100%;margin:5px;">
						<h:panelGrid columns="4">
							<p:outputLabel value="NIK / #{appmsg['global.name']}"
								styleClass="header_big" />
							<p:outputLabel value=":" styleClass="header_big" />
							<p:inputText id="searchId" style="width: 450px"
								value="#{recruitVacancySelectionModel.nikOrNameSearchParameter}" />
							<p:commandButton value="#{appmsg['global.search']}" update="checkboxDT"
								icon="ui-icon-search" action="doGetListEmployee" />
						</h:panelGrid>
						<p:focus for="searchId" />
						<p:dataTable id="checkboxDT" var="empData" value="#{recruitVacancySelectionModel.listEmpData}" selection="#{recruitVacancySelectionModel.selectedEmpData}" rowKey="#{empData.id}" style="margin-bottom:0">
     

							<p:column selectionMode="multiple" style="width:16px;text-align:center"/>
							<p:column sortBy="#{data.nik}" style="width: 15%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['global.nik']}" />
								</f:facet>
								<p:outputLabel value=" #{empData.nik}" />
							</p:column>
							<p:column sortBy="#{data.bioData.firstName}" style="width: 15%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['global.name']}" />
								</f:facet>
								<p:outputLabel value="#{empData.bioData.firstName} #{empData.bioData.lastName}" />
							</p:column>
							<p:column sortBy="#{data.bioData.firstName}" style="width: 15%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['companyRelation.jabatan']}" />
								</f:facet>
								<p:outputLabel value=" #{empData.jabatanByJabatanId.name}" />
							</p:column>
							
							<p:column sortBy="#{data.bioData.firstName}" style="width: 15%">
								<f:facet name="header">
									<h:outputText value="#{appmsg['department.department']}" />
								</f:facet>
								<p:outputLabel value=" #{empData.jabatanByJabatanId.department.departmentName}" />
							</p:column>



						</p:dataTable>

						<p:commandButton value="#{appmsg['global.save']}" ajax="true"
							action="saveListEmployee" styleClass="label_button"
							style="margin-right: 5px" label="#{appmsg['global.save']}"
							icon="ui-icon-disk" update="formId:tableVacancySelectionSeries"
							oncomplete="handleUpdateRequest(args)" id="buttonSave"
							title="#{appmsg['global.save']}">
						</p:commandButton>

					</p:panelGrid>
				</h:form>
			</p:dialog>
			<script type="text/javascript">
				function handleUpdateRequest(args) {
					if (!args.listEmpExist) {
						jQuery('#penyeleksiDialogId').effect("shake", {
							times : 3
						}, 75);
					} else {
						PF('penyeleksiDialog').hide();
					}
				}
			</script>
			<style type="text/css">
.ui-tooltip {
	width: 1000px !important;
}
</style>
		</ui:define>
	</ui:composition>

</h:body>

</html>

