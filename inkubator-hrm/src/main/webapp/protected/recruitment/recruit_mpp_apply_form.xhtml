<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:pe="http://primefaces.org/ui/extensions">
    <h:head>
        <title>IGNORED</title>
    </h:head>
    <h:body>
        <ui:composition template="/templates/master_layout_full.xhtml">
            <ui:define name="windowTitle">

            </ui:define>
            <ui:define name="center">
                <p:growl id="growlId" globalOnly="true" showDetail="true"/>
                <h:form id="formRecruitMppId">
                    <div id="box_bg" style="margin: 10px">
                    <h:panelGrid  columns="2">
                        <p:graphicImage library="images" name="loan.png" height="36" width="36" />
                        <h:panelGroup layout="block">
                            <h:panelGrid>
                                <p:outputLabel value="#{appmsg['mpp_recruitment.mpp_recruitment_form']}" styleClass="header_big" />
                                <p:outputLabel value="#{appmsg['mpp_recruitment.mpp_recruitment_data']}" styleClass="header_small_no_bold" />
                            </h:panelGrid>
                        </h:panelGroup>
                    </h:panelGrid>
                    <p:separator  style="margin-left: 0px;margin-right: 0px;margin-bottom: 10px"/>
                    
                    <p:panelGrid style="width: 100%;margin-bottom: 10px;margin-top: 20px" styleClass="grid_border3">
                        <p:row>
                            <p:column style="width: 20%;background-color: #e1f0f0!important">
                                <p:outputLabel for="recruitMppApplyCode" value="#{appmsg['mpp_recruitment.mpp_recruitment_code']}" styleClass="label_hrm"/>
                            </p:column>                          
                            <p:column  style="width: 80%">                                
                                <p:inputText id="recruitMppApplyCode" title="#{appmsg['mpp_recruitment.mpp_recruitment_code']}" value="#{recruitMppApplyFormController.recruitMppApplyModel.recruitMppApplyCode}" 
                                          required="true"  maxlength="12" onkeyup="this.value = this.value.toUpperCase();" styleClass="isitext_hrm" style="width:250px;" />
                                <p:message for="recruitMppApplyCode"/>                               
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column style="width: 20%;background-color: #e1f0f0!important">
                                <p:outputLabel for="recruitMppApplyName" value="#{appmsg['mpp_recruitment.mpp_recruitment_name']}" styleClass="label_hrm"/>
                            </p:column>
                           
                            <p:column  style="width: 80%">                                    
                                <p:inputText id="recruitMppApplyName" title="#{appmsg['mpp_recruitment.mpp_recruitment_name']}" value="#{recruitMppApplyFormController.recruitMppApplyModel.recruitMppApplyName}" 
                                        required="true" maxlength="60" styleClass="isitext_hrm" style="width:250px;" />
                                <p:message for="recruitMppApplyName"/>                                
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column style="width: 20%;background-color: #e1f0f0!important">
                                <p:outputLabel for="applyDate" value="#{appmsg['global.date']}" styleClass="label_hrm"/>
                            </p:column>
                           
                            <p:column  style="width: 80%">                               
                                <p:calendar  id="applyDate" pattern="dd MMMM yyyy"
                                                 label="#{appmsg['global.date']}"
                                                 value="#{recruitMppApplyFormController.recruitMppApplyModel.applyDate}"  
                                                 readonly="false" required="true"  size="30" showOn="button"
                                                 style="width:250px;" />                                  
                                <p:message for="applyDate"/>                               
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column style="width: 20%;background-color: #e1f0f0!important">
                                <p:outputLabel for="mppReason" value="#{appmsg['loginform.alasan']}" styleClass="label_hrm"/>
                            </p:column>
                          
                            <p:column  style="width: 80%">
                                <p:inputTextarea id="mppReason" title="#{appmsg['loginform.alasan']}"
                                                 value="#{recruitMppApplyFormController.recruitMppApplyModel.reason}" 
                                                 maxlength="255" counter="counterReason" label="#{appmsg['loginform.alasan']}"
                                                 counterTemplate="#{appmsg['global.remaining']}" 
                                                 styleClass="isitext_hrm" style="width:250px;" required="true" />
                                <p:message for="mppReason"/>
                               <h:panelGrid columns="3" style="margin-left: -10px;">
                                <p:outputLabel  for="counterReason" styleClass="label_hrm" />
                                <p:outputLabel  for="counterReason" styleClass="label_hrm" />
                                 <h:outputText id="counterReason" />
                               </h:panelGrid>
                                  
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column style="width: 20%;background-color: #e1f0f0!important">
                                <p:outputLabel for="uploadRecruitMppApply" value="#{appmsg['biodocument.attachments']}" styleClass="label_hrm"/>
                            </p:column>
                            
                            <p:column  style="width: 80%"> 
                               
                                 <p:fileUpload required="false" sizeLimit="1000000000" label="#{appmsg['global.choose_file']}" fileUploadListener="#{recruitMppApplyFormController.handleFileUpload}"
                                                  mode="advanced"  id="uploadRecruitMppApply"  style="margin-top:10px;margin-bottom:10px;width: 100%;text-align: left!important"
                                                  dragDropSupport="true" multiple="false" update="fileNameId,:growlId"
                                                  allowTypes="/(\.|\/)(jpe?g|png|mp4|flv|doc|docx|xls|xlsx|pdf|ppt|pptx|pps|ppsx)$/"/> 
                                
                                 <p:outputLabel value="#{appmsg['global.file_name']}"/>
                                 <p:outputLabel value=":" style="margin-left: 5px;margin-right: 5px"/>
                                 <p:outputLabel value="#{recruitMppApplyFormController.recruitMppApplyModel.recruitMppApplyFileName}" id="fileNameId"/>                                
                                <p:message for="uploadRecruitMppApply"/>
                                
                            </p:column>
                          
                        </p:row>
                        
                        <p:row>
                            <p:column style="width: 20%;background-color: #e1f0f0!important">
                                <p:outputLabel for="mppPeriodeId" value="#{appmsg['mpp_recruitment.mpp_recruitment_period']}" styleClass="label_hrm"/>
                            </p:column>
                           
                            <p:column  style="width: 80%">    
                                <h:panelGrid columns="1" style="margin-left: -10px;">
                                    <p:selectOneMenu id="mppPeriodeId" value="#{recruitMppApplyFormController.mppPeriodeId}"  filter="true"  
                                            style="width:250px;"  required="true" label="#{appmsg['mpp_recruitment.mpp_recruitment_period']}"> 
                                        <f:selectItem itemLabel="#{appmsg['global.please_choose']}" itemValue=""/>
                                        <f:selectItems value="#{recruitMppApplyFormController.mapMppPeriode}"  />       
                                        <p:ajax   listener="#{recruitMppApplyFormController.updateMppPeriod()}"  
                                             update="tableDetailRecruitMppApply"/>
                                </p:selectOneMenu>
                                 <p:message for="mppPeriodeId"/>
                                </h:panelGrid>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    
                      <p:outputLabel value="#{appmsg['mpp_recruitment.mpp_recruitment_detail_recruiment']}" styleClass="header_big" />                     
                      <p:separator/>
                       <p:commandButton value="#{appmsg['global.add']}" ajax="true" update="formRecruitMppId,:growlId"
                                         action="#{recruitMppApplyFormController.doAddRecruitMppApplyDetail()}" styleClass="label_button" 
                                         style="margin-right: 5px" label="#{appmsg['global.add']}"
                                         icon="ui-icon-folder-open"
                                         id="btnAddMppApplyDetail" title="#{appmsg['global.add']}">
                            <p:ajax event="dialogReturn" listener="#{recruitMppApplyFormController.onDialogReturnRecruitMppApplyDetail}"  update="tableDetailRecruitMppApply"/>
                       </p:commandButton>
                     <p:dataTable  id="tableDetailRecruitMppApply" var="data"  value="#{recruitMppApplyFormController.listMppDetail}" lazy="false" paginator="false"
                                    style="margin-top: 10px;margin-bottom: 10px"   rowIndexVar="no">
                                    <f:facet name="header">  
                                        <h:outputText value="#{appmsg['mpp_recruitment.list_of_mpp_recruitment_detail']}"/>
                                    </f:facet> 
                                    <p:column style="text-align: center;width: 3%">
                                        <f:facet name="header">  
                                            <h:outputText value="#{appmsg['global.number']}"/>
                                        </f:facet>
                                        <h:outputLabel value="#{no+1}." />
                                    </p:column>
                                    <p:column sortBy="jabatan.code"  style="width: 12%">
                                        <f:facet name="header">  
                                            <h:outputText value="#{appmsg['jabat.jabatan_code']}"/>
                                        </f:facet>
                                        <h:outputLabel value= "#{data.jabatan.code}"/> 
                                    </p:column>  
                                    <p:column sortBy="jabatan.name"  style="width: 20%">
                                        <f:facet name="header">  
                                            <h:outputText value="#{appmsg['jabatan.jabatan_name']}"/>
                                        </f:facet>
                                        <h:outputLabel value= "#{data.jabatan.name}"/>
                                    </p:column>  
                                    <p:column  style="width: 20%">
                                        <f:facet name="header">  
                                            <h:outputText value="#{appmsg['menu.period']}"/>
                                        </f:facet>
                                        <h:outputLabel value= "#{recruitMppApplyFormController.recruitMppApplyModel.selectedRecruitMppPeriod.periodeStart}">
                                            <f:convertDateTime pattern="dd MMM yyyy" />
                                        </h:outputLabel>
                                        <h:outputLabel value= " - " />
                                        <h:outputLabel value= "#{recruitMppApplyFormController.recruitMppApplyModel.selectedRecruitMppPeriod.periodeEnd}">
                                            <f:convertDateTime pattern="dd MMM yyyy" />
                                        </h:outputLabel>
                                    </p:column> 
                                    <p:column sortBy="actualNumber"  style="width: 8%">
                                        <f:facet name="header">  
                                            <h:outputText value="#{appmsg['mpp_recruitment.actual']}"/>
                                        </f:facet>
                                        <h:outputLabel value= "#{data.actualNumber}"/> 
                                    </p:column> 
                                     <p:column sortBy="recruitPlan"  style="width: 8%">
                                        <f:facet name="header">  
                                            <h:outputText value="#{appmsg['mpp_recruitment.mpp']}"/>
                                        </f:facet>
                                         <h:outputLabel value= "#{data.recruitPlan}"/> 
                                    </p:column>  
                                    <p:column sortBy="difference"  style="width: 8%">
                                        <f:facet name="header">  
                                            <h:outputText value="#{appmsg['mpp_recruitment.selisih']}"/>
                                        </f:facet>
                                        <h:outputLabel value= "#{data.difference}"/> 
                                    </p:column>  
                                    <p:column headerText="#{appmsg['global.action']}" style="width: 12%;text-align: center" exportable="false">

                                        <p:commandButton icon="ui-icon-trash" title="#{appmsg['global.delete']}" label="#{appmsg['global.delete']}"  
                                                         style="font-size: 10px!important" update="tableDetailRecruitMppApply,:panelDialogMppApplyDetailConfirmId" 
                                                         action="#{recruitMppApplyFormController.doSelectRecruitMppApplyDetail(data)}"  onclick="statusDialog.show()"  oncomplete="dialogConfirmMppApplyDetail.show()">
                                            <f:setPropertyActionListener value="#{data}" target="#{recruitMppApplyFormController.selectedRecruitMppApplyDetail}" />
                                        </p:commandButton>
                                        -
                                        <p:commandButton icon="ui-icon-folder-open" title="#{appmsg['global.edit']}" label="#{appmsg['global.edit']}" style="font-size: 10px!important" 
                                                         action="#{recruitMppApplyFormController.doEditRecruitMppApplyDetail()}" >
                                            <f:setPropertyActionListener value="#{data}" target="#{recruitMppApplyFormController.selectedRecruitMppApplyDetail}" />
                                            <p:ajax event="dialogReturn" listener="#{recruitMppApplyFormController.onDialogReturnRecruitMppApplyDetail}"  update="tableDetailRecruitMppApply,:growlId"/>
                                        </p:commandButton>
                                    </p:column>
                                </p:dataTable>
                      </div>
                    
                     <div id="box_bg" style="margin: 10px">

                       <p:separator style="margin-top: 30px;margin-bottom: 10px"/>
                        <div style="margin-bottom: 5px">
                            <p:commandButton value="#{appmsg['global.save']}" ajax="true" update="formRecruitMppId,:growlId"
                                             action="#{recruitMppApplyFormController.doSave()}" styleClass="isitext_hrm"
                                             style="margin-right: 5px" label="#{appmsg['global.save']}"
                                             icon="ui-icon-disk" title="#{appmsg['global.save']}"/>
                            <p:commandButton value="#{appmsg['global.reset']}" title="#{appmsg['global.reset']}" process="@this" update="formRecruitMppId"
                                             icon="ui-icon-refresh" styleClass="isitext_hrm" style="margin-right: 5px" disabled="#{recruitMppApplyFormController.isUpdate}"  >  
                                <p:resetInput target="formRecruitMppId" />  
                            </p:commandButton>
                             <p:commandButton value="#{appmsg['global.back']}" ajax="true" 
                                             action="#{recruitMppApplyFormController.doBack()}" styleClass="isitext_hrm"
                                             style="margin-right: 5px" label="#{appmsg['global.back']}"
                                             icon="ui-icon-home" title="#{appmsg['global.back']}"/>
                        </div>
                     </div>
                    
                    
                </h:form>
                 <p:dialog widgetVar="dialogConfirmMppApplyDetail" header="#{appmsg['global.header_confirmation']}" modal="true" width="450" dynamic="true" onShow="statusDialog.hide()"
                          appendTo="@(body)" resizable="false" hideEffect="puff" showEffect="clip" closeOnEscape="true"  styleClass="header_small_no_bold">
                    <div align="center">
                        <div align="center">
                            <h:panelGrid columns="2" style="text-align: justify">
                                <p:graphicImage library="images" name="recycle_bin.png" width="81" height="81" cache="true" />
                                <h:panelGroup>
                                    <h:panelGrid style="text-align: center">
                                        <p:outputLabel value="#{appmsg['global.delete_confirm']}" styleClass="label_hrm"/>
                                    </h:panelGrid>
                                </h:panelGroup>
                            </h:panelGrid>
                        </div>
                        <h:panelGrid id="panelDialogMppApplyDetailConfirmId"  columns="3">
                            <p:outputLabel value="#{appmsg['placement.jabatan']}"  style="font-weight: bold"/>
                            <p:outputLabel value=":"  style="font-weight: bold"/>
                            <p:outputLabel value="#{recruitMppApplyFormController.selectedRecruitMppApplyDetail.jabatan.code} - #{recruitMppApplyFormController.selectedRecruitMppApplyDetail.jabatan.name}" styleClass="label_hrm"/>
                        </h:panelGrid>
                        <p:separator/>
                        <p:commandButton value="#{appmsg['global.yes']}" action="#{recruitMppApplyFormController.doDeleteRecruitMppApplyDetail()}" update="formRecruitMppId:tableDetailRecruitMppApply,:growlId"
                                         oncomplete="dialogConfirmMppApplyDetail.hide()" style="margin-right: 5px" icon="ui-icon-check"/>
                        <p:commandButton value="#{appmsg['global.no']}" oncomplete="dialogConfirmMppApplyDetail.hide()" icon="ui-icon-close" />                     	
                    </div>
                </p:dialog>
            </ui:define>

        </ui:composition>

    </h:body>
</html>

